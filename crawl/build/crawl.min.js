"use strict";(function(){var e,d;d=require("request"),e={retrieve:function(e,a){var r,i,l,o,t,s;t=e.name.trim().split(" ").join(" AND "),s="SELECT DISTINCT ?wd ?label ?description ",i="OPTIONAL{ ?wd <http://schema.org/description> ?description . }",l='SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". ?Pdescription rdfs:label ?description . ',r="GROUP BY ?wd ?label ?description ",e.properties.forEach(function(e,t){1==e.concat?s+="(GROUP_CONCAT(DISTINCT ?"+e.label+'; SEPARATOR=", ") AS ?'+e.label+"s) ":(s+="?"+e.label+" ",r+="?"+e.label+" "),i+="OPTIONAL{ ?wd wdt:"+e.name+" ?P"+e.label+" . }",l+="?P"+e.label+" rdfs:label ?"+e.label+" . "}),l+="?wd rdfs:label ?label . ",o="PREFIX wdt: <http://www.wikidata.org/prop/direct/> PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX foaf: <http://xmlns.com/foaf/0.1/> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX bif: <bif:> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> "+(s+='WHERE { SERVICE <http://dbpedia.org/sparql> {?dbp a foaf:Person . ?dbp rdfs:label ?l . ?dbp owl:sameAs ?wd . ?l bif:contains "'+t+'" . FILTER(STRSTARTS(xsd:string(?wd), "http://www.wikidata.org/entity/")). }')+i+'FILTER(LANG(?description) = "en") '+(l+=" } ")+"}"+r+"LIMIT 1000 ",d("https://query.wikidata.org/sparql?query="+encodeURIComponent(o),{json:!0,headers:{"User-Agent":"request"}},function(e,t,r){if(e)return console.log(e);a(o,r)})}},module.exports=e}).call(void 0);
//# sourceMappingURL=crawl.js.map