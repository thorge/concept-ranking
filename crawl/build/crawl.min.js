"use strict";(function(){var e,o,s;o=require("request"),s={limit:1e3,lang:"en"},e={retrieve:function(e,n){var i,t,r,c,l,a;if(Object.assign(s,e),!s.name)return[];l="PREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT DISTINCT ?item ?label ?description ",r="\n  OPTIONAL{ ?item <http://schema.org/description> ?description . }",t='\n  SERVICE wikibase:label {\n    bd:serviceParam wikibase:language "[AUTO_LANGUAGE],'.concat(s.lang,'".\n    ?Pdescription rdfs:label ?description . '),i="\nGROUP BY ?item ?label ?description ",s.properties&&s.properties.forEach(function(e,a){!0===e.concat?l+="(GROUP_CONCAT(DISTINCT ?"+e.label+'; SEPARATOR=", ") AS ?'+e.label+"s) ":(l+="?".concat(e.label," "),i+="?".concat(e.label," ")),r+="\n  OPTIONAL{ ?item wdt:".concat(e.name," ?P").concat(e.label," . }"),t+="\n    ?P".concat(e.label," rdfs:label ?").concat(e.label," . ")}),t+="\n    ?item rdfs:label ?label . ",t+="\n  } ",a='WHERE {\n  SERVICE wikibase:mwapi {\n    bd:serviceParam wikibase:api "EntitySearch" .\n    bd:serviceParam wikibase:endpoint "www.wikidata.org" .\n    bd:serviceParam mwapi:search "'.concat(s.name,'" .\n    bd:serviceParam mwapi:language "').concat(s.lang,'" .\n    ?item wikibase:apiOutputItem mwapi:item .\n    ?num wikibase:apiOrdinal true .\n  }\n  ?item wdt:P31 wd:Q5. '),c=l+a+r+'\n  FILTER(LANG(?description) = "'+s.lang+'") '+t+"\n}"+i+"\nLIMIT "+s.limit,o("https://query.wikidata.org/sparql?query="+encodeURIComponent(c),{json:!0,headers:{"User-Agent":"request"}},function(e,a,i){if(e)return console.log(e);n({query:c,body:i})})}},module.exports=e}).call(void 0);
//# sourceMappingURL=crawl.js.map